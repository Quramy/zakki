# 10/1

## ts-graphql-plugin

https://github.com/Quramy/ts-graphql-plugin/issues/147

クエリが引数を許容しないのであれば、そもそも variable 用の type を出力しない方がいいかもな。

## Others

変に Component の内側で impedance mismatch を吸収しようとすると、碌なものにならない。可読性やテスタビリティ的にも良いことない、というのを身を持って学ぶ。
理屈としては分かってるんだけど、ついいじる箇所を最小限にしたくなって、、、という囁きに騙されそうになってしまう。

---

# 10/2

## Semantic な form

aria-invalid のような属性や、HTML 標準の `required` 属性など、form をセマンティックに扱うための仕組みを使いこなせていなかったな、と反省。

これらの知識が最初からあったして（実際に `required` は知っていたし）、最初からそれを組み込めたのか、というとやはり厳しいだろうし、いきなり 100 点が取れるわけでもないと思う。

下記のようなアプリケーションコードを書いていたとして、

```tsx
<Form onSubmit={handleSubmit}>
  <label>
    PostalCode
    <Input
      name="posal_code"
      onChange={handleChangePostalCode}
      value={postalCode}
    />
  </label>
</Form>
```

ある日、 `input[name="posal_code"]` に対して、 `autocomplete="postal-code` を一気に付与したい、というようなケースがあったことを考える。
ここでの `autocomplete` 属性は一例であって、何某かの `aria-` かもしれないし、別の属性でも構わない（要するに SPA 開発者が忘れがちな属性、ってとこがポイント）。

愚直な書き方であれば、郵便番号を扱っているすべての箇所に、下記を追加して回ることになる：

```tsx
<Input
  name="posal_code"
  onChange={handleChangePostalCode}
  value={postalCode}
  autocomplete="postal-code"
/>
```

form に関する知識、すなわち「`postalCode` という値は郵便番号である」という情報と、 「input タグに`autocomplete="postal-code"`を付与したい」という欲求は密接に関連していると思うんだけど、この関連性と「状態は State management, DOM は JSX」という分離の相性が余り良くない。

「form に関する情報 -> HTML 属性の付与」という機構を最初から備えておければ、後からの属性追加についても、アプリケーション全体への影響は最小限にして進められるんじゃないか、という期待。Headless UI Component のパターンでそれができる？

よく出来た form ライブラリの設計を読み解いてみたい

https://www.merrickchristensen.com/articles/headless-user-interface-components/

https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fe-autocomplete

## Others

Puppeteer に出した PR にレスポンスがつかなくて悲しい。。。 :sob:

やることが思い浮かばないので、 https://github.com/reg-viz/img-diff-js の TS 化に着手。
合わせて AVA -> Jest, GH Actions の導入などもやる。reg-suit でもやった作業だし、今回はそもそものソースコードが少ないので余裕で終わった。renovate も突っ込んだ。

PR のコメント欄にて。"wdyt?" ってなんだろう？って思ったけど、 "What Do You Think (WDYT)" か。小文字で書かれるとより分からない！

---

# 10/3

---

# 10/4

https://tsconf.io/index オンライン開催か。。。 \$39 ね、、、悩まし。

---

# 10/5
