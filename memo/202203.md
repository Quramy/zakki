# 3/1

## TypeScript

4.6 がリリースされてた。

https://devblogs.microsoft.com/typescript/announcing-typescript-4-6/

RC とほぼ同等の内容だが、 https://github.com/microsoft/TypeScript/pull/47257 への言及が追加されてた。

47257 での変更は、 `@ts-check` というディレクティブコメントが追加されていて、JSDoc における `@params` と 実際の関数シグネチャの整合性を確認してエラーを吐いてくれる機能とのこと。

```js
// @ts-check

/**
 * @param {string} s <-- s という名前のパラメータがないので誤り
 */
function f(untyped) {}
```

## ts-graphql-plugin

TypeScript 4.6 にて一部 Language Service のシグネチャが変更されていたために build failure となっていた。
修正して patch release.

---

# 3/2

## GraphQL

TypeScript で言うところの `Record<string, string>` のような「任意の文字列の map」を GraphQL Schema で表現するの、Custom Scalar くらいしか案がなかったけど以下のような Schema でも対応できることに気づいた。

```gql
type Query {
  record(key: String!): String
}
```

クエリ投げる側が Field Alias 使えばいいだけ。

```gql
query {
  hoge: record(key: "hoge")
  fuga: record(key: "fuga")
}
```

そもそも「任意の〜」とか言ってる時点で割れ窓になる可能性があることは否定できないが、それは Custom Scalar でも同じだし。
