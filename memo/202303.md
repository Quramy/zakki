# 3/1

## EKS

IRSA (IAM Role Service Account) について。

https://docs.aws.amazon.com/ja_jp/eks/latest/userguide/iam-roles-for-service-accounts.html

EKS 上で稼働しているコンテナに、AWS リソースへのアクセスを認可するための手法。

> サービスアカウントの IAM ロールには、Amazon EC2 インスタンスプロファイルから Amazon EC2 インスタンスに認証情報を提供する場合と同じような方法で、アプリケーションの認証情報を管理する機能があります。AWS 認証情報を作成してコンテナに配布したり、Amazon EC2 インスタンスのロールを使用する代わりに、IAM ロールを Kubernetes サービスアカウントと関連付けて、サービスアカウントを使用するようにポッドを設定することができます。

- Deployment に Pod に紐付ける Service Account を用意する
  - Service Account 自体は kubernetes 側の機能
  - https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/
- 紐付ける Service Account の annotation として、IAM Role を ARN で指定する
