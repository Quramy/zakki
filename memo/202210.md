# 10/1

## Web Assembly

https://webassembly.github.io/spec/core

2.0 の仕様草案になっているの、全然知らなかった。

## Misc

https://lp.nijibox.jp/cp/postdev に登壇した。

Frontend のテストがどう変遷してきたのかを中心に twada さんと対談する。

楽屋で、探索的テストや Mutation テストの話も伺ったので、そちらの内容もまとめたみがある。

---

# 10/4

## Apollo Client

しれっと v3.7.0 が出ていた。結局、あまり RC から変わってなさげな雰囲気。

https://github.com/apollographql/apollo-client/blob/HEAD/CHANGELOG.md#Apollo-Client-370-2022-09-30

---

# 10/5

## GraphQL

https://speakerdeck.com/quramy/esm に書いた、apollo link 剥がしをおしごとの案件で適用した。

WHATWG fetch ベースで executor を実装する場合、シンプルに https://www.the-guild.dev/graphql/tools/docs/remote-schemas に書いてある以下をやるだけ。

```ts
import { fetch } from "@whatwg-node/fetch";
import { print } from "graphql";
import { introspectSchema, wrapSchema } from "@graphql-tools/wrap";
import { AsyncExecutor } from "@graphql-tools/utils";

const executor: AsyncExecutor = async ({ document, variables }) => {
  const query = print(document);
  const fetchResult = await fetch("http://example.com/graphql", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({ query, variables })
  });
  return fetchResult.json();
};

export default async () => {
  const schema = wrapSchema({
    schema: await introspectSchema(executor),
    executor
  });
  return schema;
};
```

## Misc

Rails アプリケーションの Memory Usage 最適化について。

https://tech.medpeer.co.jp/entry/2022/02/01/113000

https://github.com/jemalloc/jemalloc

https://github.com/nodejs/node/issues/21973
