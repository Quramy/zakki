# 8/4

## State of HTML 2025

回答した。

にしても、HTML 周り知らないの多いなー。。。

---

# 8/5

## Copilot Chat を Vim から使いたい

Copilot.vim が補完しか提供してくれないので、 Chat を使いたいときに逐一 VSC を立ち上げてるのが馬鹿らしい。。。
いい感じに `:term` に Chat 表示してくれるプラグイン、ないかな。。。
絶対にあると思うんだけど。。。

---

# 8/6

## iOS の Distribution 証明書について

そういうものが存在していること自体知らなかったので、同僚に雑談がてら聞いてみた。

Distribution 証明書は、開発した iOS アプリケーションを配布するために必要な証明書。

実質的にはビルド成果物に対する署名を行うために利用される。
したがって、検証されるのは、「正しい配布元がビルドしていること」を保証しているという理解。

## `HTMLElementTagNameMap` という Map Type

lib.dom.d.ts に記載されている TypeScript の組み込み型定義

任意の要素名をキーに、対応する要素の型を値として取得することができる。

```ts
type TElementName = "div";

type TElement = HTMLElementTagNameMap[TElementName]; // HTMLDivElement
```

文脈としては、任意の Host Component 名を描画するような Component の作成時に、 Ref の Generics に渡す型解決の方法が知りたくなったため

```tsx
function Hoge<
  THost extends keyof JSX.IntrinsicElements & keyof HTMLElementTagNameMap
>({ as: hostName }: { readonly as: THost }) {
  const ref = useRef<HTMLElementTagNameMap[THost]>(null);
  return createElement(hostName, { ref });
}
```

---

# 8/7

## Android WebView と Service Worker

iOS の `WKWebView` では特に気にせずに Service Worker が使えていたのでうっかりしていたが、 Android WebView だときちんと設定しないと使えない。

https://stackoverflow.com/questions/62354423/how-to-use-serviceworkercontroller-on-android/63491172#63491172

iOS で動作していた Web Application で、Web App 側の開発時にローカルで MSW を使っており、それを Android で読み込ませたら fetch が軒並みコケたために調べる羽目になった。

---

# 8/22

## prisma-fabbrica 2.3.1

しばらく Renovate で Prisma Client の Update が出来ない(正確には ESM 型の prj fixture でのみ落ちる) 状況が続いていたのだけど、以下の PR で修正できた。

https://github.com/Quramy/prisma-fabbrica/pull/502

なんかアイコン見覚えあるぞと思ったら @ukyo さんだった。元気にしてるのかなぁ。

## Next.js 15.5 リリース

https://nextjs.org/blog/next-15-5

大きいのは Middleware の Node.js ランタイム対応あたりか。

`next lint` が Deprecated となる、というのも初めて知った。

---

# 8/25

## CSS Properties が Baseline に適合しているかどうかを Chrome DevTools で確認する

https://web.dev/blog/baseline-devtools-css?hl=en

---

# 8/26

## 久々に reg-suit repo 触る

と言っても、同僚から以下の PR をもらったため、それを merge しただけ

https://github.com/reg-viz/reg-suit/pull/719

久々すぎて完全に Publish の手順すら忘れていた。

CircleCI 脱却してーなぁ。。。

---

# 8/27

## Subgrid と Clickable in Clickable UI

https://zenn.dev/ixkaito/articles/nested-links-using-subgrid

## msw/node で abort signal が伝播されない疑惑

以下のようなイメージのことをしようとしていたのだけど、どうも AbortError が発生してないような。。
Browser 版の方は意図通り動く (それはそう) ので、 msw/node が global.fetch を上書きしてんのと関係ある？

```ts
server.use(
  http.get("/api/hoge", () => {
    await setTimeoutPromise(1000);
    return HttpResponse.json({ success: true });
  })
);

const abortController = new AbortController();
const result = fetch("/api/hoge", { signal: abortController.signal });
abortController.abort();

await expect(result).rejects;
```

今度 Minimal Repro 作って試すか。
