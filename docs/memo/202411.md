# 11/1

## Change Data Capture

DB の同期を取るような文脈で CDC という略語があることを知った。

## Netlify と OpenNext

https://www.netlify.com/blog/netlify-joins-opennext

## RSC Payload と `AsyncIterable`や `ReadableStream`

React 側では https://github.com/facebook/react/pull/28847 で RSC ペイロードに `ReadableStream` と `AsyncIterable` を渡せるようになっている。
この PR の Merge タイミングが 2024.04.17 なので、 React v19 RC には乗っているのだと思う。

Next.js の v15 Stable に伴って、この機能も使えるようになったことになる。

Next.js の 14.x 系 Stable は React 19 を取り込まなかったからなのか、v14.2.16 などで試すと以下のエラーメッセージが出る。

```
Only plain objects can be passed to Client Components from Server Components. Objects with symbol properties like Symbol.asyncIterator are not supported.
```

これ、利用する機会あるんかなー。

`AsyncIterator` 使えるということは、ちょっとずつ SC を generate するようなことが原理的にはできそうだけど、React のコードとしてそれってどう書けばいいんだ？

sebmarkbage が PR Description で書いている以下部分もよくわからんし。

> AsyncIterables can also be returned as children of Server Components and then they're conceptually the same as fragment arrays/iterables. They can't actually be used as children in Fizz/Fiber but there's a separate plan for that.

## Web Stream API

RSC Payload に Readable Stream が使える、というのに付随して、そもそも Web Stream API ってなんだっけ、、、となった。

そういえば Web 標準に Stream があるらしい、というのは聞いてたけど、触ったことが一回も無かった。

とりあえず、Node.js で Web Stream をゴニョゴニョする話については、結構前に `@yosuke_furukawa` 会長が発表していたので、これを読む。

https://speakerdeck.com/yosuke_furukawa/whatwg-stream-falsehua
