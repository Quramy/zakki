# 2/3

## ブラウザバック時の form の値が restore される問題

Gemini 相手に HTML Living Standard を壁打ち。途中何回も嘘付いてきたので、やつの回答の精査に時間がかかった。

ある input 要素に autocomplete="off" を付与したページが存在していたとする。
このページに「戻る」動作を行った場合、値の復帰が UA によって実行されるかどうかは以下の通り:

- A: bfcache が有効な場合: UA による値の復帰は仕様上行われない。 bfcache からの復元において、reset されるべき仕様が MUST で存在しているため[^1]
- B: bfcache が無効な場合: UA による値の復帰は行われない可能性が高い。autocomplete="off" であるフォーム要素の値の記憶が推奨されていないため[^2]

[^1]: "For each formControl of form controls in document with an autofill field name of "off", invoke the reset algorithm for formControl." と bfcache からの Reactivate flow に明記されている. https://html.spec.whatwg.org/multipage/browsing-the-web.html#updating-the-document
[^2]: "When an element's autofill field name is "off", the user agent should not remember the control's data" とある. https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#autofill-processing-model
